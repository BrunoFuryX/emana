{"id":"libs/pagination/infinite.js","dependencies":[{"name":"/Users/lucascosta/jobs/tray/taitamariki_5.0/package.json","includedInParent":true,"mtime":1578425613965},{"name":"jquery","loc":{"line":1,"column":14},"parent":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/libs/pagination/infinite.js","resolved":"/Users/lucascosta/jobs/tray/taitamariki_5.0/node_modules/jquery/dist/jquery.js"}],"generated":{"js":"\"use strict\";\n\nvar _jquery = _interopRequireDefault(require(\"jquery\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Event on scroll\n!function (n) {\n  var p,\n      t = n.fn.on;\n\n  n.fn.on = function () {\n    var n = Array.apply(null, arguments),\n        a = n[n.length - 1];\n    if (isNaN(a) || 1 === a && n.pop()) return t.apply(this, n);\n    var i = n.pop(),\n        o = n.pop();\n    return n.push(function () {\n      var n = this,\n          t = arguments;\n      clearTimeout(p), p = setTimeout(function () {\n        o.apply(n, t);\n      }, i);\n    }), t.apply(this, n);\n  };\n}(_jquery.default);\n(0, _jquery.default)(document).ready(function () {\n  var infinite = (0, _jquery.default)('[data-infinite]');\n  var resultClass = infinite.attr('data-infinite-result');\n  var resultHTML = (0, _jquery.default)(resultClass);\n  var auto = infinite.attr('data-infinite-auto');\n  var textButton = infinite.attr('data-infinite-button');\n  var textButtonLoading = infinite.attr('data-infinite-button-loading');\n  var item = '.showcase__item';\n  var paginateClass = '.paginates';\n  if (!auto) auto = true;else auto = auto == 'true' ? true : false;\n\n  if (!resultHTML.length) {\n    console.log('[ PAGINATION INFINITE ] Error: Selecione o campo de Resultado');\n    return;\n  }\n\n  if (infinite.attr('data-infinite') != 'false') {\n    var paginates = (0, _jquery.default)('.paginates', infinite);\n\n    if (paginates.length) {\n      var buttonNext = paginates.find('.page-next a');\n      var loadmore = (0, _jquery.default)(\"<button class=\\\"infinite__button\\\" type=\\\"button\\\">\").text(textButton);\n      paginates.hide();\n\n      if (buttonNext.length) {\n        var src = buttonNext.attr('href');\n        loadmore.attr('data-src', src);\n        paginates.after(loadmore);\n        loadmore.click(function () {\n          var src = loadmore.attr('data-src');\n\n          if (src.length) {\n            infinite.addClass('infinite--loading');\n            loadmore.addClass('infinite__button--loading').attr('disabled', true).text(textButtonLoading);\n\n            _jquery.default.get(src).then(function (data) {\n              var paginates = (0, _jquery.default)(paginateClass, data);\n              var buttonNext = paginates.find('.page-next a');\n              data = (0, _jquery.default)(resultClass, data);\n              resultHTML.append((0, _jquery.default)(item, data).addClass('infinite--hide').css({\n                opacity: 0\n              }));\n\n              if (buttonNext.length) {\n                var _src = buttonNext.attr('href');\n\n                loadmore.attr('data-src', _src);\n              } else loadmore.hide().attr('disabled', true).attr('data-src', '');\n\n              (0, _jquery.default)(resultHTML).find('.infinite--hide').each(function (index, el) {\n                setTimeout(function () {\n                  (0, _jquery.default)(el).animate({\n                    'opacity': 1,\n                    'visibility': 'visible'\n                  }, 450).removeClass('infinite--hide');\n                }, 100 + index * 100);\n              });\n              infinite.removeClass('infinite--loading');\n              loadmore.removeClass('infinite__button--loading').attr('disabled', false).text(textButton);\n            });\n          }\n        });\n\n        if (auto) {\n          console.log('[ PAGINATION INFINITE ] Scroling Auto ');\n          var body = (0, _jquery.default)(window);\n          var top = body.scrollTop();\n          var topResult = resultHTML.offset().top + resultHTML.outerHeight() / 2;\n\n          if (top > topResult) {\n            if (!loadmore.attr('disabled')) loadmore.trigger('click');\n          }\n\n          body.on('scroll', function () {\n            var top = body.scrollTop();\n            var topResult = resultHTML.offset().top + resultHTML.outerHeight() / 2;\n\n            if (top > topResult) {\n              if (!loadmore.attr('disabled')) loadmore.trigger('click');\n            }\n          }, 250);\n        }\n      }\n    } else console.log('[ PAGINATION INFINITE ] Error: Enableb paginates ');\n  }\n});"},"sourceMaps":null,"error":null,"hash":"ae869b82f89a47ddad03fe97fb7ad2dc","cacheData":{"env":{}}}