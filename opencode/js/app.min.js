$(".showcase__list[data-carousel=true]")&&$(".showcase__list[data-carousel=true]").each(function(){$(this).find(".showcase__item--empty").remove(),$(this).not(".slick-initialized").slick({mobileFirst:!1,slidesToShow:4,slidesToScroll:4,prevArrow:'<button aria-label="prev" type="button" class="slick-prev"><</button>',nextArrow:'<button aria-label="prev" type="button" class="slick-next">></button>',responsive:[{breakpoint:424,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:767,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:991,settings:{slidesToShow:4,slidesToScroll:4}}]})}),$(".banner--javascript .banner__list")&&$(".banner--javascript .banner__list").not(".slick-initialized").slick({mobileFirst:!1,infinite:!1,slidesToShow:1,slidesToScroll:1,prevArrow:'<button aria-label="prev" type="button" class="slick-prev"><</button>',nextArrow:'<button aria-label="next" type="button" class="slick-next">></button>',responsive:[{breakpoint:424,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:767,settings:{slidesToShow:1,slidesToScroll:1}}]}),$(".banner--grid .banner__list")&&$(".banner--grid .banner__list").not(".slick-initialized").slick({mobileFirst:!0,slidesToShow:1,slidesToScroll:1,prevArrow:'<button type="button" aria-label="prev" class="slick-prev"><</button>',nextArrow:'<button type="button" aria-label="next" class="slick-next">></button>',responsive:[{breakpoint:424,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{slidesToShow:4,slidesToScroll:4}}]});var button=$("#bt-submit-comments");if(button){var buttonAction=$('<button class="comments__button" type="button">Avaliar</button>');button.after(buttonAction),buttonAction.click(()=>{button.trigger("click")})}function debounce(t){var e;return function(i){e&&clearTimeout(e),e=setTimeout(t,200,i)}}function navigationHiddenResize(){var t=$(".menu--navigation .menu__ul--nv1").outerWidth(),e=0;$(".menu--navigation .menu__item--nv1").removeClass("menu__item--hidden"),$(".menu--navigation .menu__item--nv1").each(function(){(e+=$(this).outerWidth())>t&&$(this).addClass("menu__item--hidden")})}function navigationAlign(){$(".menu--navigation").each(function(){$(this).find(".menu--nv2").removeClass("menu--rtl"),$(this).find(".menu--nv2").each(function(){var t=$(this).closest(".menu--nv1").outerWidth();$(this).offset().left+$(this).outerWidth()>t&&$(this).addClass("menu--rtl")})})}var childs=Array.from(document.querySelectorAll(".menu__item--has-child"));childs.forEach(t=>{t.addEventListener("click",t=>{var e=t.target;if(e.classList.contains("menu__item--has-child")){var i=e.getAttribute("aria-expanded");"true"!==i&&"false"!==i&&(i="false"),e.setAttribute("aria-expanded","true"!==i),$(e).find("> .menu--sub").slideToggle()}},!1)}),$(".button--menu").on("click",function(){$("body").addClass("menu__open")}),$(".button__close--navigation").on("click",function(){$("body").removeClass("menu__open")}),$(".rulers__list").not(".slick-initialized").slick({mobileFirst:!0,slidesToShow:1,slidesToScroll:1,infinite:!1,prevArrow:'<button type="button" aria-label="prev" class="slick-prev"><</button>',nextArrow:'<button type="button" aria-label="next" class="slick-next">></button>',responsive:[{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:991,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:1023,settings:{slidesToShow:4,slidesToScroll:4}}]});var $=$tray;if("function"==typeof $){function loadThumb(){var t=$(".produto-imagem-miniaturas");if(t.length){t.hide();var e=t.find("img, .icon-video");let i;$(".thumbs").length&&$(".thumbs").remove(),e.length&&(i='<div class="thumbs">',i+='<ul class="thumbs__list">',e.each((t,e)=>{i+=createThumb($(e).attr("src"),t)}),i+="</ul>",i+="</div>",t.after(i),$(document).trigger("thumbs:start"),$(".thumbs a").click(e=>{let i=$(e.currentTarget).attr("data-index");selectThumb(i),$(e.currentTarget).find(".thumb__video").length?$("#colVideo").show():($($("a",t).eq(i)).mouseover().click(),$("#colVideo").hide()),e.preventDefault()}),selectThumb("0"))}}function selectThumb(t){$(".thumbs li").removeClass("thumbs__item--actived"),$(`.thumbs [data-index=${t}]`).closest("li").addClass("thumbs__item--actived")}function createThumb(t,e){return t?`<li class="thumbs__item"><a class="thumbs__link" data-index="${e}" href="#${e}"><img class="thumbs__image" src="${t}" /></a></li>`:`<li class="thumbs__item"><a class="thumbs__link" data-index="${e}" href="#${e}"><span class="thumb__video"></span></a></li>`}$(document).ready(function(){$(window).ajaxComplete(function(t,e,i){i&&-1!==i.url.indexOf("variant_gallery")&&loadThumb()}),loadThumb()})}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9tb2R1bGVzL2J1eS10b2dldGhlci9pbmRleC5qcyIsImFzc2V0cy9tb2R1bGVzL2NvcHlyaWdodC9pbmRleC5qcyIsImFzc2V0cy9tb2R1bGVzL2ZpbHRlci9pbmRleC5qcyIsImFzc2V0cy9tb2R1bGVzL2Zvb3Rlci9pbmRleC5qcyIsImFzc2V0cy9tb2R1bGVzL2hlYWRlci9pbmRleC5qcyIsImFzc2V0cy9tb2R1bGVzL21haW4vaW5kZXguanMiLCJhc3NldHMvbW9kdWxlcy9uYXZpZ2F0aW9uL2luZGV4LmpzIiwiYXNzZXRzL21vZHVsZXMvcGFydG5lcnMvaW5kZXguanMiLCJhc3NldHMvbW9kdWxlcy9wcm9kdWN0cy12aXNpdGVkL2luZGV4LmpzIiwiYXNzZXRzL21vZHVsZXMvc2hvd2Nhc2UvaW5kZXguanMiLCJhc3NldHMvcGFnZXMvcGFnZS1jYXRhbG9nL2luZGV4LmpzIiwiYXNzZXRzL3BhZ2VzL3BhZ2UtZGVwb2ltZW50b3MvaW5kZXguanMiLCJhc3NldHMvcGFnZXMvcGFnZS1ob21lL2luZGV4LmpzIiwiYXNzZXRzL3BhZ2VzL3BhZ2Utbm90aWNpYXMvaW5kZXguanMiLCJhc3NldHMvcGFnZXMvcGFnZS1wcm9kdWN0L2luZGV4LmpzIiwiYXNzZXRzL3NuaXBwZXRzL2Jhbm5lci9pbmRleC5qcyIsImFzc2V0cy9zbmlwcGV0cy9icmVhZGNydW1iL2luZGV4LmpzIiwiYXNzZXRzL3NuaXBwZXRzL2J1dHRvbi9pbmRleC5qcyIsImFzc2V0cy9zbmlwcGV0cy9jYXJ0L2luZGV4LmpzIiwiYXNzZXRzL3NuaXBwZXRzL2NvbW1lbnRzL2luZGV4LmpzIiwiYXNzZXRzL3NuaXBwZXRzL2N1c3RvbWVyL2luZGV4LmpzIiwiYXNzZXRzL3NuaXBwZXRzL2Zha2Utc2VsZWN0L2luZGV4LmpzIiwiYXNzZXRzL3NuaXBwZXRzL2ljb24vaW5kZXguanMiLCJhc3NldHMvc25pcHBldHMvbG9nby9pbmRleC5qcyIsImFzc2V0cy9zbmlwcGV0cy9tZW51L2luZGV4LmpzIiwiYXNzZXRzL3NuaXBwZXRzL21vZGFsL2luZGV4LmpzIiwiYXNzZXRzL3NuaXBwZXRzL25ld3NsZXR0ZXIvaW5kZXguanMiLCJhc3NldHMvc25pcHBldHMvcGFnaW5hdGUvaW5kZXguanMiLCJhc3NldHMvc25pcHBldHMvcHJvZHVjdC9pbmRleC5qcyIsImFzc2V0cy9zbmlwcGV0cy9wcm9kdWN0LXRhYnMvaW5kZXguanMiLCJhc3NldHMvc25pcHBldHMvcmF0aW5nLXNob3J0L2luZGV4LmpzIiwiYXNzZXRzL3NuaXBwZXRzL3J1bGVycy9pbmRleC5qcyIsImFzc2V0cy9zbmlwcGV0cy9zZWFyY2gvaW5kZXguanMiLCJhc3NldHMvc25pcHBldHMvc2hhcmUvaW5kZXguanMiLCJhc3NldHMvc25pcHBldHMvc2xpY2svaW5kZXguanMiLCJhc3NldHMvc25pcHBldHMvc29jaWFscy9pbmRleC5qcyIsImFzc2V0cy9zbmlwcGV0cy90aHVtYnMvaW5kZXguanMiLCJhc3NldHMvc25pcHBldHMvdGl0bGUvaW5kZXguanMiLCJhc3NldHMvc25pcHBldHMvdG9vbGJhci9pbmRleC5qcyIsImFzc2V0cy9zbmlwcGV0cy9hdHRlbmRhbmNlL2luZGV4LmpzIl0sIm5hbWVzIjpbIiQiLCJlYWNoIiwidGhpcyIsImZpbmQiLCJyZW1vdmUiLCJub3QiLCJzbGljayIsIm1vYmlsZUZpcnN0Iiwic2xpZGVzVG9TaG93Iiwic2xpZGVzVG9TY3JvbGwiLCJwcmV2QXJyb3ciLCJuZXh0QXJyb3ciLCJyZXNwb25zaXZlIiwiYnJlYWtwb2ludCIsInNldHRpbmdzIiwiaW5maW5pdGUiLCJidXR0b24iLCJidXR0b25BY3Rpb24iLCJhZnRlciIsImNsaWNrIiwidHJpZ2dlciIsImRlYm91bmNlIiwiZnVuYyIsInRpbWVyIiwiZXZlbnQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwibmF2aWdhdGlvbkhpZGRlblJlc2l6ZSIsIndpZHRoTmF2aWdhdGlvbiIsIm91dGVyV2lkdGgiLCJ3aWR0aEN1cnJlbnQiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwibmF2aWdhdGlvbkFsaWduIiwibmF2IiwiY2xvc2VzdCIsIm9mZnNldCIsImxlZnQiLCJjaGlsZHMiLCJBcnJheSIsImZyb20iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiY2hpbGQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwidGFyZ2V0IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJleHBhbmRlZCIsImdldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsInNsaWRlVG9nZ2xlIiwib24iLCIkdHJheSIsImxvYWRUaHVtYiIsInRodW1icyIsImxlbmd0aCIsImhpZGUiLCJpbWFnZXMiLCJodG1sIiwiaW5kZXgiLCJpdGVtIiwiY3JlYXRlVGh1bWIiLCJhdHRyIiwiY3VycmVudFRhcmdldCIsInNlbGVjdFRodW1iIiwic2hvdyIsImVxIiwibW91c2VvdmVyIiwicHJldmVudERlZmF1bHQiLCJzcmMiLCJyZWFkeSIsIndpbmRvdyIsImFqYXhDb21wbGV0ZSIsInhociIsInVybCIsImluZGV4T2YiXSwibWFwcGluZ3MiOiJBQVVJQSxFQUFFLHdDQUNGQSxFQUFFLHVDQUF1Q0MsS0FBSyxXQUMxQ0QsRUFBRUUsTUFBTUMsS0FBSywwQkFBMEJDLFNBQ3ZDSixFQUFFRSxNQUFNRyxJQUFJLHNCQUFzQkMsTUFBTSxDQUNwQ0MsYUFBYSxFQUNiQyxhQUFjLEVBQ2RDLGVBQWdCLEVBQ2hCQyxVQUFXLHdFQUNYQyxVQUFXLHdFQUNYQyxXQUFZLENBQ1IsQ0FDSUMsV0FBWSxJQUNaQyxTQUFVLENBQ05OLGFBQWMsRUFDZEMsZUFBZ0IsSUFHeEIsQ0FDSUksV0FBWSxJQUNaQyxTQUFVLENBQ05OLGFBQWMsRUFDZEMsZUFBZ0IsSUFHeEIsQ0FDSUksV0FBWSxJQUNaQyxTQUFVLENBQ05OLGFBQWMsRUFDZEMsZUFBZ0IsU0FlckNULEVBQUUsc0NBQ0xBLEVBQUUscUNBQXFDSyxJQUFJLHNCQUFzQkMsTUFBTSxDQUNuRUMsYUFBYSxFQUNi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QU9FLE9BRVAsSUFBTUMsRUFBV0gsRUFBT3RELEtBQUssb0JBQzdCLElBQVEwRCxFQUVMN0QsRUFBRSxXQUFXMEQsUUFBUTFELEVBQUUsV0FBV0ksU0FFbEN3RCxFQUFPRixTQUNORyxFQUFTLHVCQUNUQSxHQUFVLDRCQUVWRCxFQUFPM0QsS0FBSyxDQUFDNkQsRUFBT0MsS0FDaEJGLEdBQVVHLFlBQVloRSxFQUFFK0QsR0FBTUUsS0FBSyxPQUFRSCxLQUcvQ0QsR0FBVSxRQUNWQSxHQUFVLFNBQ1ZKLEVBQU92QyxNQUFNMkMsR0FFYjdELEVBQUV5QyxVQUFVckIsUUFBUSxnQkFFcEJwQixFQUFFLGFBQWFtQixNQUFPMkIsSUFDbEIsSUFBSWdCLEVBQVE5RCxFQUFFOEMsRUFBSW9CLGVBQWVELEtBQUssY0FFdENFLFlBQVlMLEdBRVI5RCxFQUFFOEMsRUFBSW9CLGVBQWUvRCxLQUFLLGlCQUFpQnVELE9BQzNDMUQsRUFBRSxhQUFhb0UsUUFFZnBFLEVBQUVBLEVBQUUsSUFBS3lELEdBQVFZLEdBQUdQLElBQVFRLFlBQVluRCxRQUN4Q25CLEVBQUUsYUFBYTJELFFBRW5CYixFQUFJeUIsbUJBR1JKLFlBQVksT0FLeEIsU0FBU0EsWUFBWUwsR0FDakI5RCxFQUFFLGNBQWMrQixZQUFZLHlCQUM1Qi9CLHlCQUF5QjhELE1BQVUzQixRQUFRLE1BQU1ILFNBQVMseUJBRzlELFNBQVVnQyxZQUFZUSxFQUFJVixHQUN0QixPQUFJVSxrRUFDd0VWLGFBQWlCQSxzQ0FBMENVLGlGQUU1RFYsYUFBaUJBLGlEQWhFaEc5RCxFQUFFeUMsVUFBVWdDLE1BQU0sV0FDZHpFLEVBQUUwRSxRQUFRQyxhQUFhLFNBQVVuRCxFQUFPb0QsRUFBSzlELEdBQ3RDQSxJQUNrRCxJQUE5Q0EsRUFBUytELElBQUlDLFFBQVEsb0JBQ3BCdEIsY0FJWkEiLCJzb3VyY2VzQ29udGVudCI6WyIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIgIiwiXG4gaWYoJCgnLnNob3djYXNlX19saXN0W2RhdGEtY2Fyb3VzZWw9dHJ1ZV0nKSkge1xuICAgICQoJy5zaG93Y2FzZV9fbGlzdFtkYXRhLWNhcm91c2VsPXRydWVdJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAkKHRoaXMpLmZpbmQoJy5zaG93Y2FzZV9faXRlbS0tZW1wdHknKS5yZW1vdmUoKTtcbiAgICAgICAgJCh0aGlzKS5ub3QoJy5zbGljay1pbml0aWFsaXplZCcpLnNsaWNrKHtcbiAgICAgICAgICAgIG1vYmlsZUZpcnN0OiBmYWxzZSxcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogNCxcbiAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiA0LFxuICAgICAgICAgICAgcHJldkFycm93OiBgPGJ1dHRvbiBhcmlhLWxhYmVsPVwicHJldlwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInNsaWNrLXByZXZcIj48PC9idXR0b24+YCxcbiAgICAgICAgICAgIG5leHRBcnJvdzogYDxidXR0b24gYXJpYS1sYWJlbD1cInByZXZcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJzbGljay1uZXh0XCI+PjwvYnV0dG9uPmAsXG4gICAgICAgICAgICByZXNwb25zaXZlOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBicmVha3BvaW50OiA0MjQsXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDc2NyxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAzXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtwb2ludDogOTkxLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiA0LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDQgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0gICBcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gfVxuIiwiIiwiIiwiICIsIiIsIiIsIlxuaWYoJCgnLmJhbm5lci0tamF2YXNjcmlwdCAuYmFubmVyX19saXN0JykpIHtcbiQoJy5iYW5uZXItLWphdmFzY3JpcHQgLmJhbm5lcl9fbGlzdCcpLm5vdCgnLnNsaWNrLWluaXRpYWxpemVkJykuc2xpY2soe1xuICAgIG1vYmlsZUZpcnN0OiBmYWxzZSxcbiAgICBpbmZpbml0ZTogZmFsc2UsXG4gICAgc2xpZGVzVG9TaG93OiAxLFxuICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxuICAgIHByZXZBcnJvdzogYDxidXR0b24gYXJpYS1sYWJlbD1cInByZXZcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJzbGljay1wcmV2XCI+PDwvYnV0dG9uPmAsXG4gICAgbmV4dEFycm93OiBgPGJ1dHRvbiBhcmlhLWxhYmVsPVwibmV4dFwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInNsaWNrLW5leHRcIj4+PC9idXR0b24+YCxcbiAgICByZXNwb25zaXZlOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDQyNCxcbiAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDc2NyxcbiAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBdICAgXG59KTtcbn1cblxuXG5pZigkKCcuYmFubmVyLS1ncmlkIC5iYW5uZXJfX2xpc3QnKSkge1xuJCgnLmJhbm5lci0tZ3JpZCAuYmFubmVyX19saXN0Jykubm90KCcuc2xpY2staW5pdGlhbGl6ZWQnKS5zbGljayh7XG4gICAgbW9iaWxlRmlyc3Q6IHRydWUsXG4gICAgc2xpZGVzVG9TaG93OiAxLFxuICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxuICAgIHByZXZBcnJvdzogYDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGFyaWEtbGFiZWw9XCJwcmV2XCIgY2xhc3M9XCJzbGljay1wcmV2XCI+PDwvYnV0dG9uPmAsXG4gICAgbmV4dEFycm93OiBgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgYXJpYS1sYWJlbD1cIm5leHRcIiBjbGFzcz1cInNsaWNrLW5leHRcIj4+PC9idXR0b24+YCxcbiAgICByZXNwb25zaXZlOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDQyNCxcbiAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAzLFxuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAzXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDc2NyxcbiAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiA0LFxuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiA0ICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBdICAgXG59KTtcbn0iLCIiLCIiLCIiLCJcblxuXG52YXIgYnV0dG9uID0gJCgnI2J0LXN1Ym1pdC1jb21tZW50cycpO1xuXG5pZihidXR0b24pIHtcbiAgICB2YXIgYnV0dG9uQWN0aW9uID0gJChgPGJ1dHRvbiBjbGFzcz1cImNvbW1lbnRzX19idXR0b25cIiB0eXBlPVwiYnV0dG9uXCI+QXZhbGlhcjwvYnV0dG9uPmApO1xuICAgIGJ1dHRvbi5hZnRlcihidXR0b25BY3Rpb24pO1xuXG4gICAgYnV0dG9uQWN0aW9uLmNsaWNrKCgpID0+IHtcbiAgICAgICAgYnV0dG9uLnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgfSk7XG59XG4iLCJcbiAiLCJcblxuLy8gZnVuY3Rpb24gRmFrZVNlbGVjdCgpIHtcbi8vICAgICAkKCdzZWxlY3QnKS5lYWNoKGZ1bmN0aW9uKCl7XG4vLyAgICAgICAgIGlmKCQodGhpcykuY2xvc2VzdCgnLmZha2Utc2VsZWN0JykubGVuZ3RoID09PSAwKSB7XG4vLyAgICAgICAgICAgICB2YXIgdGV4dCA9ICQodGhpcykuZmluZCgnb3B0aW9uOnNlbGVjdGVkJykudGV4dCgpO1xuLy8gICAgICAgICAgICAgdmFyIGZha2UgPSAkKCc8ZGl2IGNsYXNzPVwiZmFrZS1zZWxlY3RcIj4nKTtcbi8vICAgICAgICAgICAgIHZhciBsYWJlbCA9ICQoJzxzcGFuIGNsYXNzPVwiZmFrZS1zZWxlY3RfX2xhYmVsXCI+JykudGV4dCh0ZXh0KTtcbi8vICAgICAgICAgICAgIHZhciBjc3NDbGFzcyA9ICQodGhpcykuYXR0cignY2xhc3MnKS5zcGxpdCgnICcpO1xuXG4vLyAgICAgICAgICAgICBjc3NDbGFzcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4vLyAgICAgICAgICAgICAgICAgaWYoaXRlbSAhPT0gJycpIHtcbi8vICAgICAgICAgICAgICAgICAgICAgZmFrZS5hZGRDbGFzcyhpdGVtKTtcbi8vICAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICB9KVxuXG4vLyAgICAgICAgICAgICBmYWtlLnByZXBlbmQobGFiZWwpO1xuLy8gICAgICAgICAgICAgJCh0aGlzKS5hZnRlcihmYWtlKTtcbi8vICAgICAgICAgICAgIGZha2UuYXBwZW5kKHRoaXMpO1xuXG4vLyAgICAgICAgICAgICAkKHRoaXMpLmNoYW5nZSgoKSA9PiB7IGxhYmVsLnRleHQoJCh0aGlzKS5maW5kKCdvcHRpb246c2VsZWN0ZWQnKS50ZXh0KCkpIH0pO1xuLy8gICAgICAgICB9XG4vLyAgICAgfSk7XG4vLyB9XG5cbi8vIEZha2VTZWxlY3QoKTtcblxuLy8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRkFLRVNFTEVDVCcsICgpID0+IHsgRmFrZVNlbGVjdCgpIH0sIGZhbHNlKTsiLCIiLCIiLCJcblxuXG5mdW5jdGlvbiBkZWJvdW5jZShmdW5jKXtcbiAgICB2YXIgdGltZXI7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgaWYodGltZXIpIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jLDIwMCxldmVudCk7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gbmF2aWdhdGlvbkhpZGRlblJlc2l6ZSgpIHtcbiAgICB2YXIgd2lkdGhOYXZpZ2F0aW9uID0gJCgnLm1lbnUtLW5hdmlnYXRpb24gLm1lbnVfX3VsLS1udjEnKS5vdXRlcldpZHRoKCk7XG4gICAgdmFyIHdpZHRoQ3VycmVudCA9IDA7XG4gICAgJCgnLm1lbnUtLW5hdmlnYXRpb24gLm1lbnVfX2l0ZW0tLW52MScpLnJlbW92ZUNsYXNzKCdtZW51X19pdGVtLS1oaWRkZW4nKTtcbiAgICAkKCcubWVudS0tbmF2aWdhdGlvbiAubWVudV9faXRlbS0tbnYxJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICB3aWR0aEN1cnJlbnQgKz0gJCh0aGlzKS5vdXRlcldpZHRoKCk7XG4gICAgICAgIGlmKHdpZHRoQ3VycmVudCA+IHdpZHRoTmF2aWdhdGlvbikge1xuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnbWVudV9faXRlbS0taGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gbmF2aWdhdGlvbkFsaWduKCkge1xuICAgICQoJy5tZW51LS1uYXZpZ2F0aW9uJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAkKHRoaXMpLmZpbmQoJy5tZW51LS1udjInKS5yZW1vdmVDbGFzcygnbWVudS0tcnRsJyk7XG4gICAgICAgICQodGhpcykuZmluZCgnLm1lbnUtLW52MicpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciBuYXYgPSAkKHRoaXMpLmNsb3Nlc3QoJy5tZW51LS1udjEnKS5vdXRlcldpZHRoKCk7XG4gICAgICAgICAgICB2YXIgbGVmdCA9ICQodGhpcykub2Zmc2V0KCkubGVmdCArICQodGhpcykub3V0ZXJXaWR0aCgpO1xuXG4gICAgICAgICAgICBpZihsZWZ0ID4gbmF2KSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnbWVudS0tcnRsJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pXG59XG5cbnZhciBjaGlsZHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZW51X19pdGVtLS1oYXMtY2hpbGQnKSk7XG5cbmNoaWxkcy5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgIGNoaWxkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gZXZ0LnRhcmdldDtcbiAgICAgICAgaWYodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbWVudV9faXRlbS0taGFzLWNoaWxkJykpIHtcbiAgICAgICAgICAgIHZhciBleHBhbmRlZCA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnKTtcbiAgICAgICAgICAgIGlmKGV4cGFuZGVkICE9PSAndHJ1ZScgJiYgZXhwYW5kZWQgIT09ICdmYWxzZScpIGV4cGFuZGVkID0gJ2ZhbHNlJztcbiAgICAgICAgICAgIHRhcmdldC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCBleHBhbmRlZCA9PT0gJ3RydWUnID8gZmFsc2UgOiB0cnVlKTtcbiAgICAgICAgICAgICQodGFyZ2V0KS5maW5kKCc+IC5tZW51LS1zdWInKS5zbGlkZVRvZ2dsZSgpO1xuICAgICAgICB9XG4gICAgfSwgZmFsc2UpO1xufSk7XG5cbi8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBkZWJvdW5jZShmdW5jdGlvbihlKXtcbi8vICAgICBuYXZpZ2F0aW9uSGlkZGVuUmVzaXplKCk7XG4vLyAgICAgbmF2aWdhdGlvbkFsaWduKCk7XG4vLyB9KSk7XG5cbi8vIG5hdmlnYXRpb25IaWRkZW5SZXNpemUoKTtcbi8vIG5hdmlnYXRpb25BbGlnbigpO1xuXG5cbiQoJy5idXR0b24tLW1lbnUnKS5vbignY2xpY2snLGZ1bmN0aW9uKCl7XG4gICAgJCgnYm9keScpLmFkZENsYXNzKCdtZW51X19vcGVuJylcbn0pO1xuXG4kKCcuYnV0dG9uX19jbG9zZS0tbmF2aWdhdGlvbicpLm9uKCdjbGljaycsZnVuY3Rpb24oKXtcbiAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ21lbnVfX29wZW4nKVxufSk7IiwiIiwiIiwiIiwiIiwiXG4vLyBpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuXG4vLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbigpe1xuXG4vLyAgICAgdmFyIHRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdC10YWJzJyk7XG4vLyAgICAgaWYodGFicyl7XG4vLyAgICAgICAgIHZhciB1cmxzID0gQXJyYXkuZnJvbSh0YWJzLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXVybF0nKSk7XG5cbi8vICAgICAgICAgdXJscy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4vLyAgICAgICAgICAgICB2YXIgdXJsID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdXJsJyk7XG4vLyAgICAgICAgICAgICBheGlvcy5nZXQodXJsKVxuLy8gICAgICAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiBkYXRhLmRhdGEpXG4vLyAgICAgICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IGVsZW1lbnQuaW5uZXJIVE1MID0gZGF0YSk7XG4vLyAgICAgICAgIH0pO1xuXG4vLyAgICAgICAgIHZhciBjdXN0b21UYWJzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvZHVjdC10YWJzLS1jdXN0b20gLnByb2R1Y3QtdGFic19fbGluaycpKTtcblxuLy8gICAgICAgICBjdXN0b21UYWJzLmZvckVhY2goKGN1c3RvbVRhYikgPT4ge1xuLy8gICAgICAgICAgICAgY3VzdG9tVGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xuLy8gICAgICAgICAgICAgICAgIHZhciBocmVmID0gZXZ0LmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKCdocmVmJyk7XG4vLyAgICAgICAgICAgICAgICAgdmFyIGhhc2ggPSBocmVmLm1hdGNoKC9eW14jXSojKC4qKS8pWzFdO1xuXG4vLyAgICAgICAgICAgICAgICAgaWYoaGFzaCkge1xuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgY29udGVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9kQm94JykpO1xuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMkeyBoYXNoIH1gKTtcblxuLy8gICAgICAgICAgICAgICAgICAgICBjb250ZW50cy5mb3JFYWNoKChjb250ZW50KSA9PiBjb250ZW50LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTpub25lJykpO1xuLy8gICAgICAgICAgICAgICAgICAgICBpZihjdXJyZW50KSBjdXJyZW50LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTogYmxvY2snKTtcblxuLy8gICAgICAgICAgICAgICAgICAgICBjdXN0b21UYWJzLmZvckVhY2goKGN1c3RvbVRhYikgPT4gY3VzdG9tVGFiLmNsYXNzTGlzdC5yZW1vdmUoJ29uJykpO1xuLy8gICAgICAgICAgICAgICAgICAgICBldnQuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuYWRkKCdvbicpO1xuXG4vLyAgICAgICAgICAgICAgICAgfVxuXG4vLyAgICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4vLyAgICAgICAgICAgICB9KTtcbi8vICAgICAgICAgfSk7XG5cbi8vICAgICAgICAgaWYoY3VzdG9tVGFicy5sZW5ndGgpIHtcbi8vICAgICAgICAgICAgIGN1c3RvbVRhYnNbMF0uY2xhc3NMaXN0LmFkZCgnb24nKTtcbi8vICAgICAgICAgfVxuLy8gICAgIH1cbi8vIH0pO1xuXG4iLCIiLCIkKCcucnVsZXJzX19saXN0Jykubm90KCcuc2xpY2staW5pdGlhbGl6ZWQnKS5zbGljayh7XG4gICAgbW9iaWxlRmlyc3Q6IHRydWUsXG4gICAgc2xpZGVzVG9TaG93OiAxLFxuICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxuICAgIGluZmluaXRlOiBmYWxzZSxcbiAgICBwcmV2QXJyb3c6IGA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBhcmlhLWxhYmVsPVwicHJldlwiIGNsYXNzPVwic2xpY2stcHJldlwiPjw8L2J1dHRvbj5gLFxuICAgIG5leHRBcnJvdzogYDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGFyaWEtbGFiZWw9XCJuZXh0XCIgY2xhc3M9XCJzbGljay1uZXh0XCI+PjwvYnV0dG9uPmAsXG4gICAgcmVzcG9uc2l2ZTogW1xuICAgICAgICB7XG4gICAgICAgICAgICBicmVha3BvaW50OiA3NjcsXG4gICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBicmVha3BvaW50OiA5OTEsXG4gICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMyxcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogM1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBicmVha3BvaW50OiAxMDIzLFxuICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDQsXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIF0gICBcbn0pOyIsIiIsIiIsIiIsIiIsIlxuXG52YXIgJCA9ICR0cmF5O1xuaWYoIHR5cGVvZiAkID09ICdmdW5jdGlvbicpIHtcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuICAgICAgICAkKHdpbmRvdykuYWpheENvbXBsZXRlKGZ1bmN0aW9uKCBldmVudCwgeGhyLCBzZXR0aW5ncyApe1xuICAgICAgICAgICAgaWYoc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICBpZihzZXR0aW5ncy51cmwuaW5kZXhPZigndmFyaWFudF9nYWxsZXJ5JykgIT09ICAtMSkge1xuICAgICAgICAgICAgICAgICAgICBsb2FkVGh1bWIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBsb2FkVGh1bWIoKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uICBsb2FkVGh1bWIoKSB7XG4gICAgICAgIHZhciAgdGh1bWJzICA9ICAkKCcucHJvZHV0by1pbWFnZW0tbWluaWF0dXJhcycpO1xuXG4gICAgICAgIGlmKHRodW1icy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRodW1icy5oaWRlKCk7XG5cbiAgICAgICAgICAgIHZhciAgIGltYWdlcyAgPSAgdGh1bWJzLmZpbmQoJ2ltZywgLmljb24tdmlkZW8nKTtcbiAgICAgICAgICAgIGxldCAgICAgaHRtbDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYoJCgnLnRodW1icycpLmxlbmd0aCkgJCgnLnRodW1icycpLnJlbW92ZSgpO1xuXG4gICAgICAgICAgICBpZihpbWFnZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaHRtbCAgPSAgYDxkaXYgY2xhc3M9XCJ0aHVtYnNcIj5gO1xuICAgICAgICAgICAgICAgIGh0bWwgICs9ICBgPHVsIGNsYXNzPVwidGh1bWJzX19saXN0XCI+YDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpbWFnZXMuZWFjaCgoaW5kZXgsIGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaHRtbCAgKz0gIGNyZWF0ZVRodW1iKCQoaXRlbSkuYXR0cignc3JjJyksIGluZGV4KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGh0bWwgICs9ICBgPC91bD5gO1xuICAgICAgICAgICAgICAgIGh0bWwgICs9ICBgPC9kaXY+YDtcbiAgICAgICAgICAgICAgICB0aHVtYnMuYWZ0ZXIoaHRtbCk7XG5cbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS50cmlnZ2VyKFwidGh1bWJzOnN0YXJ0XCIpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICQoJy50aHVtYnMgYScpLmNsaWNrKChldnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gJChldnQuY3VycmVudFRhcmdldCkuYXR0cignZGF0YS1pbmRleCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdFRodW1iKGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmICgkKGV2dC5jdXJyZW50VGFyZ2V0KS5maW5kKCcudGh1bWJfX3ZpZGVvJykubGVuZ3RoKSB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2NvbFZpZGVvJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgkKCdhJywgdGh1bWJzKS5lcShpbmRleCkpLm1vdXNlb3ZlcigpLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjY29sVmlkZW8nKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfSk7XHRcdFx0XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgc2VsZWN0VGh1bWIoJzAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBzZWxlY3RUaHVtYihpbmRleCkge1xuICAgICAgICAkKGAudGh1bWJzIGxpYCkucmVtb3ZlQ2xhc3MoJ3RodW1ic19faXRlbS0tYWN0aXZlZCcpO1xuICAgICAgICAkKGAudGh1bWJzIFtkYXRhLWluZGV4PSR7aW5kZXh9XWApLmNsb3Nlc3QoJ2xpJykuYWRkQ2xhc3MoJ3RodW1ic19faXRlbS0tYWN0aXZlZCcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uICBjcmVhdGVUaHVtYihzcmMsaW5kZXgpIHtcbiAgICAgICAgaWYgKHNyYykge1xuICAgICAgICAgICAgcmV0dXJuICBgPGxpIGNsYXNzPVwidGh1bWJzX19pdGVtXCI+PGEgY2xhc3M9XCJ0aHVtYnNfX2xpbmtcIiBkYXRhLWluZGV4PVwiJHtpbmRleH1cIiBocmVmPVwiIyR7aW5kZXh9XCI+PGltZyBjbGFzcz1cInRodW1ic19faW1hZ2VcIiBzcmM9XCIke3NyY31cIiAvPjwvYT48L2xpPmA7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcmV0dXJuIGA8bGkgY2xhc3M9XCJ0aHVtYnNfX2l0ZW1cIj48YSBjbGFzcz1cInRodW1ic19fbGlua1wiIGRhdGEtaW5kZXg9XCIke2luZGV4fVwiIGhyZWY9XCIjJHtpbmRleH1cIj48c3BhbiBjbGFzcz1cInRodW1iX192aWRlb1wiPjwvc3Bhbj48L2E+PC9saT5gO1xuICAgICAgICB9XG4gICAgfVxufSIsIiIsIiAiLCIiXX0=